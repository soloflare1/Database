### ✅ SQL `LIMIT`

---

## 🔷 What is `LIMIT`?

`LIMIT` is a SQL clause used to **restrict how many rows** a query returns.

> “Give me only the first *n* rows from the result.”

---

## 🔍 Why Use `LIMIT`?

| Reason            | Description                                   |
| ----------------- | --------------------------------------------- |
| **Performance**   | Avoid loading thousands of rows unnecessarily |
| **Preview Data**  | Test or inspect a few sample rows             |
| **Top-N Results** | Show top 5 scorers, latest 10 sales, etc.     |
| **Pagination**    | With `OFFSET`, lets you fetch “pages” of data |

---

## ⚙️ Syntax

```sql
SELECT column1, column2
FROM table_name
LIMIT N;
```

* `N` = number of rows to return

✅ Example:

```sql
SELECT name, marks
FROM students
LIMIT 3;
```

Returns **only the first 3 rows** from the full result.

---

## 🔁 `ORDER BY` + `LIMIT` = Most Common Combo

To get the **top** or **bottom** values, always **combine `ORDER BY` with `LIMIT`**:

```sql
-- Top 3 scorers
SELECT name, marks
FROM students
ORDER BY marks DESC
LIMIT 3;
```

```sql
-- Bottom 2 scorers
SELECT name, marks
FROM students
ORDER BY marks ASC
LIMIT 2;
```


### ⚠️ **Why `LIMIT` Alone Doesn’t Guarantee Order**

```sql
SELECT name 
FROM students 
LIMIT 3;
```

✅ This **does return 3 rows**...
❌ But **which 3?** That depends on the database’s internal storage or execution plan.

---

### 💡 Think of it like this:

Without `ORDER BY`, SQL doesn't know what you **mean** by “first 3.”
Is it:

* first 3 alphabetically?
* first 3 by ID?
* first 3 who scored highest?

It doesn’t know — so it just returns **any 3 rows** that happen to come out of the query engine first.

> **Relational databases treat rows as unordered by default.**

---

### ✅ To make it predictable, always use `ORDER BY` with `LIMIT`:

```sql
SELECT name
FROM students
ORDER BY marks DESC
LIMIT 3;
```

Now you’re clearly saying:

> “Give me the top 3 students by marks.”

---

### 🔁 TL;DR:

| Query                                     | Predictable Order? |
| ----------------------------------------- | ------------------ |
| `SELECT * FROM table LIMIT 5`             | ❌ No               |
| `SELECT * FROM table ORDER BY id LIMIT 5` | ✅ Yes              |

---

## ⚡ LIMIT with OFFSET → Pagination

Use `OFFSET` to **skip rows** — for pagination:

```sql
-- Skip first 3 rows, return next 2
SELECT name
FROM students
ORDER BY id
LIMIT 2 OFFSET 3;
```

### 🌍 Example Use Case:

| Page | LIMIT | OFFSET |
| ---- | ----- | ------ |
| 1    | 5     | 0      |
| 2    | 5     | 5      |
| 3    | 5     | 10     |

---

## 🔒 Rules & Notes

| Detail                     | Notes                                              |
| -------------------------- | -------------------------------------------------- |
| Clause order               | Comes **last** in query                            |
| Works on final result only | After `WHERE`, `GROUP BY`, `HAVING`, `ORDER BY`    |
| Non-standard in some DBs   | Some use `TOP` (SQL Server), `FETCH` (Oracle 12c+) |

---

## 🧠 Mental Model

> SQL runs everything → filters, sorts, groups, calculates → then **hands you only the first *N* rows**.

---

## 🧪 Practice Questions

1. Get top 3 highest marks
2. Get bottom 2 students by marks
3. Show 5 students starting from 4th row
4. Show first student from Mumbai (`WHERE + LIMIT 1`)

---

## 📝 Summary Table

| Feature         | `LIMIT`                        |
| --------------- | ------------------------------ |
| Purpose         | Restrict number of output rows |
| Common with     | `ORDER BY`, `OFFSET`           |
| Works on        | Final result of the query      |
| Clause position | Always **last**                |
| Alias use       | Not applicable                 |

---
